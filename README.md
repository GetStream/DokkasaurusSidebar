# Dokkasaurus Sidebar

This script creates a `sidebars.js` file from the `.md` files generated from Dokkasaurus. The output contains a JSON mapping the file hierarchy of the documentation. Paste the `sidebars.js` file to a Docussaros project and it will generate the sidebar for your Dokka documentation.

**This mini CLI need to be used with Dokkasaurus pluggin.**

## Installing

Make sure your have python installed in your machine, clone this project, go the the directory of the project and run:

```
pip install .
```

## Running

Add the Dokkasaurus plugin to your gradle files, and then run dokka:

```
./gradlew dokkaHtmlMultimodule
```

Go the your [root_of_project]/build/dokka/html and run:

```
dokkasaurus . [nome_of_your_project]
```

Then move `sidebars.js` to your Docusaurus project with the documentation generated by Dokka. After running Docusaurus, you'll see the new generated documentation.

### Using inside CI
To use this command inside the CI, you can run the `ci.py` script to avoid installing `Click`. Follow the structure:

```
python ci.py \
[project_path] \
[root_sidebar_name] \
[position of root category] \
[output path] \
[is sidebar auto generated] \
[is multi module] \
[path for filter file]
```

example:

```
python ci.py \
/Users/leandroferreira/stream/stream-chat-android/build/dokka/htmlMultiModule \
Dokka \
 5 \
 ./ \
 True \
 True \
/Users/leandroferreira/stream/stream-chat-android/dokkasaurus_filter.json
```
